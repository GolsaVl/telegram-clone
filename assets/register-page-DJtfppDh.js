import{u as f,a as w,r as d,j as s,L as g,b as j}from"./index-GPcaPTWF.js";import{A as y}from"./arrow-right-9KfKIAoa.js";function b(){const m=f(),{register:u}=w(),[t,e]=d.useState(!1),[n,a]=d.useState("");async function p(o){o.preventDefault(),e(!0),a("");const r=new FormData(o.currentTarget),x=r.get("email"),i=r.get("password"),l=r.get("confirmPassword"),h="salam";if(i!==l){a("Passwords do not match"),e(!1);return}try{await u({username:h,email:x,password:i,confirmPassword:l}),m("/chats")}catch(c){a(c instanceof Error?c.message:"Failed to register")}finally{e(!1)}}return s.jsxs("div",{className:"w-full space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight text-[var(--foreground)] sm:text-3xl",children:"Create your account"}),s.jsxs("p",{className:"mt-1 text-sm text-[var(--muted-foreground)]",children:["Already have an account?"," ",s.jsx(g,{to:"/login",className:"font-medium text-[var(--primary)] hover:text-[hsl(var(--primary-hsl)_/_0.8)] focus:outline-none focus:underline",children:"Sign in"})]})]}),s.jsxs("form",{className:"space-y-6",onSubmit:p,children:[n&&s.jsx("div",{className:"p-3 text-sm text-[var(--destructive-foreground)] bg-[var(--destructive)] rounded-[var(--radius-md)]",children:n}),s.jsxs("div",{className:"space-y-4",children:[" ",s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"input w-full py-2.5",placeholder:"Email address"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),s.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"input w-full py-2.5",placeholder:"Password"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"input w-full py-2.5",placeholder:"Confirm Password"})]})]}),s.jsx("button",{type:"submit",disabled:t,className:"btn btn-primary w-full flex justify-center items-center gap-2 py-2.5 text-sm",children:t?s.jsxs(s.Fragment,{children:[s.jsx(j,{className:"h-5 w-5 animate-spin text-[var(--primary-foreground)]"}),"Creating account..."]}):s.jsxs(s.Fragment,{children:["Create account",s.jsx(y,{className:"h-5 w-5"})]})})]})]})}export{b as default};
